{"ast":null,"code":"var _jsxFileName = \"C:\\\\ECHO\\\\MERNSTACK\\\\Job_portal_Mern\\\\Job-Application-Portal\\\\frontend\\\\src\\\\components\\\\Common\\\\MyProfile.js\";\nimport React, { useContext, useState } from 'react';\nimport CreatableSelect from 'react-select/creatable';\nimport axios from 'axios';\nimport IconButton from '@material-ui/core/IconButton';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport AddIcon from '@material-ui/icons/Add';\nimport { AuthContext } from '../../context/auth';\nimport GetUser from \"../../context/getUser\";\nimport NavbarApplicant from '../templates/NavbarApplicant';\nimport NavbarRecruiter from '../templates/NavbarRecruiter';\n\nfunction MyProfile(props) {\n  const skills_list = [{\n    label: 'Python',\n    value: 1\n  }, {\n    label: 'Java',\n    value: 2\n  }, {\n    label: 'C',\n    value: 3\n  }, {\n    label: 'C++',\n    value: 4\n  }, {\n    label: 'HTML',\n    value: 5\n  }, {\n    label: 'CSS',\n    value: 6\n  }, {\n    label: 'JavaScript',\n    value: 7\n  }, {\n    label: 'TypeScript',\n    value: 8\n  }, {\n    label: 'Ruby',\n    value: 9\n  }, {\n    label: 'Swift',\n    value: 10\n  }, {\n    label: 'Kotlin',\n    value: 11\n  }, {\n    label: 'Go',\n    value: 12\n  }];\n  var user = GetUser();\n  const {\n    logout\n  } = useContext(AuthContext);\n\n  function logUserOut() {\n    logout();\n    this.props.push(\"/\");\n  }\n\n  const [contact, setContact] = useState('');\n  const [bio, setBio] = useState(''); // const [institution, setInstitution] = useState('');\n  // const [startYear, setStartYear] = useState('');\n  // const [endYear, setEndYear] = useState('');\n\n  const [skills, setSkills] = useState('');\n  const [inputFields, setInputFields] = useState([{\n    institution: '',\n    startYear: '',\n    endYear: ''\n  }]);\n\n  async function onChangeContact(event) {\n    await setContact(event.target.value);\n  }\n\n  async function onChangeBio(event) {\n    await setBio(event.target.value);\n  } // async function onChangeInstitution(event) {\n  //     await setInstitution(event.target.value);\n  // }\n  // async function onChangeStartYear(event) {\n  //     await setStartYear(event.target.value);\n  // }\n  // async function onChangeEndYear(event) {\n  //     await setEndYear(event.target.value);\n  // }\n\n\n  async function onChangeSkills(event) {\n    var temp_skills = [];\n\n    if (event) {\n      for (var i = 0; i < event.length; i++) {\n        temp_skills.push(event[i].label);\n      }\n    }\n\n    await setSkills(temp_skills);\n  }\n\n  const handleInputChange = (inputValue, actionMeta) => {\n    console.group('Input Changed');\n    console.log(inputValue);\n    console.log(`action: ${actionMeta.action}`);\n    console.groupEnd();\n  };\n\n  function onSubmit(e) {\n    e.preventDefault();\n    console.log(\"inputFields\", inputFields);\n    const editUser = {\n      contact: contact,\n      bio: bio,\n      // institution: institution,\n      // startYear: startYear,\n      // endYear: endYear,\n      education: inputFields,\n      skills: skills\n    };\n    axios.post('http://localhost:4000/user/editUser/' + user._id, editUser).then(res => {\n      alert(\"Details edited!\");\n    }).catch(err => {\n      console.log(err.response.data);\n      if (err.response.data.userError !== undefined) alert(err.response.data.userError);\n      if (err.response.data.error.contact !== undefined) alert(err.response.data.error.contact);\n    });\n  }\n\n  if (bio.split(\" \").length > 250) {\n    alert(\"Bio must be less than 250 words\");\n    setBio(\"\");\n  }\n\n  const handleChangeInput = (index, event) => {\n    const values = [...inputFields];\n    values[index][event.target.name] = event.target.value;\n    setInputFields(values);\n  };\n\n  const handleAddFields = () => {\n    setInputFields([...inputFields, {\n      institution: '',\n      startYear: '',\n      endYear: ''\n    }]);\n  };\n\n  const handleRemoveFields = ind => {\n    const values = [...inputFields];\n    values.splice(ind, 1);\n    setInputFields(values);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, user.role === \"Recruiter\" ? /*#__PURE__*/React.createElement(NavbarRecruiter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 42\n    }\n  }) : \"\", user.role === \"Applicant\" ? /*#__PURE__*/React.createElement(NavbarApplicant, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 42\n    }\n  }) : \"\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }), \"Hi, \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, user.name), \"! \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 37\n    }\n  }), \"Your current details are: \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 39\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, \"Name: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: user.name,\n    value: user.name,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, \"Email: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: user.email,\n    value: user.email,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, \"Role: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: user.role,\n    value: user.role,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  })), user.role === \"Recruiter\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, \"Contact No: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    placeholder: user.contact,\n    value: contact,\n    onChange: onChangeContact,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, \"Bio: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: user.bio,\n    className: \"form-control\",\n    value: bio,\n    onChange: onChangeBio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 25\n    }\n  }))) : \"\", user.role === \"Applicant\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 25\n    }\n  }, \"Education \"), inputFields.map((inputField, ind) => /*#__PURE__*/React.createElement(\"div\", {\n    key: ind,\n    class: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 29\n    }\n  }, \"Institution \", ind + 1, \": \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: user.education[ind] && user.education[ind].institution,\n    value: inputField.institution,\n    name: \"institution\",\n    onChange: event => handleChangeInput(ind, event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, \"Start Year: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    placeholder: user.education[ind] && user.education[ind].startYear,\n    value: inputField.startYear,\n    name: \"startYear\",\n    onChange: event => handleChangeInput(ind, event),\n    min: \"1900\",\n    max: \"2100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, \"End Year: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    placeholder: user.education[ind] && user.education[ind].endYear,\n    value: inputField.endYear,\n    name: \"endYear\",\n    onChange: event => handleChangeInput(ind, event),\n    min: \"1900\",\n    max: \"2100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    disabled: inputFields.length === 1,\n    onClick: () => handleRemoveFields(inputField.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(RemoveIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handleAddFields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 25\n    }\n  }, \"Skills: \"), /*#__PURE__*/React.createElement(CreatableSelect, {\n    closeMenuOnSelect: false,\n    isClearable: true,\n    isMulti: true,\n    onChange: onChangeSkills,\n    onInputChange: handleInputChange,\n    placeholder: user.skills.join(\", \"),\n    options: skills_list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 25\n    }\n  }))) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Edit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/\",\n    onClick: logUserOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, \"Logout\"));\n}\n\nexport default MyProfile;","map":{"version":3,"sources":["C:/ECHO/MERNSTACK/Job_portal_Mern/Job-Application-Portal/frontend/src/components/Common/MyProfile.js"],"names":["React","useContext","useState","CreatableSelect","axios","IconButton","RemoveIcon","AddIcon","AuthContext","GetUser","NavbarApplicant","NavbarRecruiter","MyProfile","props","skills_list","label","value","user","logout","logUserOut","push","contact","setContact","bio","setBio","skills","setSkills","inputFields","setInputFields","institution","startYear","endYear","onChangeContact","event","target","onChangeBio","onChangeSkills","temp_skills","i","length","handleInputChange","inputValue","actionMeta","console","group","log","action","groupEnd","onSubmit","e","preventDefault","editUser","education","post","_id","then","res","alert","catch","err","response","data","userError","undefined","error","split","handleChangeInput","index","values","name","handleAddFields","handleRemoveFields","ind","splice","role","email","map","inputField","id","join"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport axios from 'axios'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { AuthContext } from '../../context/auth'\r\nimport GetUser from \"../../context/getUser\"\r\nimport NavbarApplicant from '../templates/NavbarApplicant'\r\nimport NavbarRecruiter from '../templates/NavbarRecruiter'\r\n\r\nfunction MyProfile(props) {\r\n\r\n    const skills_list = [\r\n        {label: 'Python', value: 1},\r\n        {label: 'Java',value: 2},\r\n        {label: 'C', value: 3},\r\n        {label: 'C++',value: 4},\r\n        {label: 'HTML', value: 5},\r\n        {label: 'CSS',value: 6},\r\n        {label: 'JavaScript', value: 7},\r\n        {label: 'TypeScript',value: 8},\r\n        {label: 'Ruby', value: 9},\r\n        {label: 'Swift',value: 10},\r\n        {label: 'Kotlin', value: 11},\r\n        {label: 'Go',value: 12}\r\n    ]\r\n\r\n    var user = GetUser();\r\n\r\n    const { logout } = useContext(AuthContext);\r\n    \r\n    function logUserOut(){\r\n        logout();\r\n        this.props.push(\"/\");\r\n    }\r\n\r\n    const [contact, setContact] = useState('');\r\n    const [bio, setBio] = useState('');\r\n    // const [institution, setInstitution] = useState('');\r\n    // const [startYear, setStartYear] = useState('');\r\n    // const [endYear, setEndYear] = useState('');\r\n    const [skills, setSkills] = useState('');\r\n\r\n    const [inputFields, setInputFields] = useState([\r\n        { institution: '', startYear: '' , endYear: ''},\r\n    ]);\r\n    \r\n    async function onChangeContact(event) {\r\n        await setContact(event.target.value);\r\n    }\r\n\r\n    async function onChangeBio(event) {\r\n        await setBio(event.target.value);\r\n    }\r\n\r\n    // async function onChangeInstitution(event) {\r\n    //     await setInstitution(event.target.value);\r\n    // }\r\n\r\n    // async function onChangeStartYear(event) {\r\n    //     await setStartYear(event.target.value);\r\n    // }\r\n\r\n    // async function onChangeEndYear(event) {\r\n    //     await setEndYear(event.target.value);\r\n    // }\r\n\r\n    async function onChangeSkills(event) {\r\n        var temp_skills = [];\r\n\r\n        if(event)\r\n        {\r\n            for(var i = 0; i < event.length; i++)\r\n            {\r\n                temp_skills.push(event[i].label);\r\n            }\r\n        }\r\n\r\n        await setSkills(temp_skills);\r\n    }\r\n\r\n    const handleInputChange = (inputValue, actionMeta) => {\r\n        console.group('Input Changed');\r\n        console.log(inputValue);\r\n        console.log(`action: ${actionMeta.action}`);\r\n        console.groupEnd();\r\n    };\r\n\r\n    function onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        console.log(\"inputFields\", inputFields);\r\n\r\n        const editUser = {\r\n            contact: contact,\r\n            bio: bio,\r\n            // institution: institution,\r\n            // startYear: startYear,\r\n            // endYear: endYear,\r\n            education: inputFields,\r\n            skills: skills\r\n        }\r\n\r\n        axios.post('http://localhost:4000/user/editUser/'+user._id, editUser)\r\n             .then(res => {\r\n                alert(\"Details edited!\");\r\n            })\r\n             .catch(err => {\r\n                console.log(err.response.data);\r\n                if(err.response.data.userError !== undefined)\r\n                    alert(err.response.data.userError);\r\n                if(err.response.data.error.contact !== undefined)\r\n                    alert(err.response.data.error.contact);\r\n             });\r\n    }\r\n\r\n    if(bio.split(\" \").length > 250)\r\n    {\r\n        alert(\"Bio must be less than 250 words\");\r\n        setBio(\"\")\r\n    }\r\n\r\n    const handleChangeInput = (index, event) => {\r\n        const values  = [...inputFields];\r\n        values[index][event.target.name] = event.target.value;\r\n        setInputFields(values);\r\n    }\r\n\r\n    const handleAddFields = () => {\r\n        setInputFields([...inputFields, { institution: '', startYear: '' , endYear: ''}])\r\n    }\r\n    \r\n    const handleRemoveFields = ind => {\r\n        const values  = [...inputFields];\r\n        values.splice(ind, 1);\r\n        setInputFields(values);\r\n    }\r\n\r\n    return (\r\n        <div class=\"container\">\r\n            {user.role === \"Recruiter\" ? <NavbarRecruiter/> : \"\"}\r\n            {user.role === \"Applicant\" ? <NavbarApplicant/> : \"\"}\r\n            <br />\r\n            Hi, <b>{user.name}</b>! <br />\r\n            Your current details are: <br /><br />\r\n            \r\n            <form onSubmit={onSubmit}>\r\n                    <div className=\"form-group\">\r\n                    <label>Name: </label>\r\n                            <input type=\"text\"\r\n                                className=\"form-control\" \r\n                                placeholder={user.name}\r\n                                value={user.name}\r\n                                readOnly\r\n                                />  \r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                    <label>Email: </label>\r\n                            <input type=\"text\"\r\n                                className=\"form-control\" \r\n                                placeholder={user.email}\r\n                                value={user.email}\r\n                                readOnly\r\n                                />  \r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                    <label>Role: </label>\r\n                            <input type=\"text\"\r\n                                className=\"form-control\" \r\n                                placeholder={user.role}\r\n                                value={user.role}\r\n                                readOnly\r\n                                />  \r\n                    </div>\r\n                    {user.role === \"Recruiter\" ? \r\n                    <div>\r\n                        <div className=\"form-group\">\r\n                            <label>Contact No: </label>\r\n                            <input type=\"number\"\r\n                                className=\"form-control\" \r\n                                placeholder={user.contact}\r\n                                value={contact}\r\n                                onChange={onChangeContact}\r\n                                />  \r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                        <label>Bio: </label>\r\n                        <input type=\"text\" \r\n                            placeholder={user.bio}\r\n                            className=\"form-control\" \r\n                            value={bio}\r\n                            onChange={onChangeBio}\r\n                            />\r\n                        </div>\r\n                    </div>: \"\" }\r\n\r\n                    {user.role === \"Applicant\" ?\r\n                    <div>\r\n                        <h4>Education </h4>\r\n                        {inputFields.map((inputField, ind) => (\r\n                        <div key={ind} class=\"form-row\">\r\n                        <div className=\"col\">\r\n                            <label>Institution {ind+1}: </label>\r\n                            <input type=\"text\" \r\n                                className=\"form-control\" \r\n                                placeholder={user.education[ind] && user.education[ind].institution}\r\n                                value={inputField.institution}\r\n                                name=\"institution\"\r\n                                onChange={event => handleChangeInput(ind, event)}\r\n                                />  \r\n                        </div>\r\n\r\n                        <div className=\"col\">\r\n                            <label>Start Year: </label>\r\n                            <input type=\"number\" \r\n                                className=\"form-control\"\r\n                                placeholder={user.education[ind] && user.education[ind].startYear}\r\n                                value={inputField.startYear}\r\n                                name=\"startYear\"\r\n                                onChange={event => handleChangeInput(ind, event)}\r\n                                min=\"1900\"\r\n                                max=\"2100\"\r\n                                />  \r\n                        </div>\r\n\r\n                        <div className=\"col\">\r\n                            <label>End Year: </label>\r\n                            <input type=\"number\" \r\n                                className=\"form-control\"\r\n                                placeholder={user.education[ind] && user.education[ind].endYear}\r\n                                value={inputField.endYear}\r\n                                name=\"endYear\"\r\n                                onChange={event => handleChangeInput(ind, event)}\r\n                                min=\"1900\"\r\n                                max=\"2100\"\r\n                                />  \r\n                        </div>\r\n\r\n                        <IconButton disabled={inputFields.length === 1} onClick={() => handleRemoveFields(inputField.id)}>\r\n                            <RemoveIcon />\r\n                        </IconButton>\r\n                        <IconButton onClick={handleAddFields}>\r\n                            <AddIcon />\r\n                        </IconButton>\r\n                        </div>\r\n                        ))}\r\n                        <br />\r\n                        <div className=\"form-group\">\r\n                        <label>Skills: </label>\r\n                        <CreatableSelect\r\n                            closeMenuOnSelect={false}\r\n                            isClearable\r\n                            isMulti\r\n                            onChange={onChangeSkills}\r\n                            onInputChange={handleInputChange}\r\n                            placeholder={user.skills.join(\", \")}\r\n                            options={skills_list}\r\n                        />\r\n\r\n                        </div>\r\n                    </div>: \"\" }\r\n\r\n                    <div className=\"form-group\">\r\n                        <input type=\"submit\" value=\"Edit\" className=\"btn btn-primary\"/>\r\n                    </div>\r\n                </form>\r\n\r\n            <a href=\"/\" onClick={logUserOut}>\r\n                Logout\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyProfile;"]},"metadata":{},"sourceType":"module"}